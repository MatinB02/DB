
  
SELECT p1.name, p1.category
FROM products p1
LEFT JOIN products p2 ON p1.category = p2.category AND p1.price < p2.price
WHERE p2.id IS NULL;


-- جدول محصولات را با خودش لفت جوین میزنیم، با شرط اینکه هر دو محصول در یک گروه باشند و قیمت دومی از اولی بیشتر باشد.
-- سپس آن سطر هایی که در آن ها محصول دومی نال است را برمیگردانیم، یعنی هیچ محصولی در آن گروه وجود ندارد که قیمتش از محصول اول بیشتر باشد



